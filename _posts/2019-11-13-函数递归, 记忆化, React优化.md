---
layout:     post
title:      å‡½æ•°é€’å½’, è®°å¿†åŒ–, Reactä¼˜åŒ–
subtitle:   å‡½æ•°é€’å½’, è®°å¿†åŒ–, Reactä¼˜åŒ–
date:       2019-11-12
author:     limantang
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - JavaScript
    - React
---


# å‡½æ•°é€’å½’, è®°å¿†åŒ–, Reactä¼˜åŒ–

## è¦æƒ³ç†è§£å‡½æ•°é€’å½’å…ˆè¦ç†è§£é€’å½’çš„å«ä¹‰

è¿™é‡Œå°±ä¸åœ¨é“ºå¼€è®²äº†, å¯ä»¥çœ‹ä¸€ä¸‹åšå®¢ä¸­**é€’å½’**çš„é‚£ç¯‡æ–‡ç« è¯¦ç»†è®²è§£çš„é€’å½’
è¿™é‡Œå¼ºè°ƒä¸€ä¸‹é€’å½’çš„å‡ ä¸ªç‰¹ç‚¹

- å±‚å±‚é€’è¿›, ç„¶åŽå±‚å±‚å›žå½’
    å±‚å±‚é€’è¿›å…¶å®žå°±æ˜¯å‡½æ•°çš„ä¸æ–­åŽ‹æ ˆ
    å±‚å±‚å›žå½’: å½“ä¸€æ¬¡é€’è¿›è¿‡ç¨‹ç»“æŸçš„æ—¶å€™, å°±æ˜¯å±‚å±‚å›žå½’çš„å¼€å§‹, ä¹Ÿå°±æ˜¯
    åŽ‹å¦‚æ ˆä¸­çš„å‡½æ•°ä¸æ–­çš„å¼¹å‡º, å›žå½’ä¸€æ¬¡å¼¹å‡ºä¸€æ¬¡, è®¡ç®—å¾—åˆ°ä¸€æ¬¡ç»“æžœ
- å‡½æ•°ä¸æ–­åŽ‹æ ˆçš„è¿‡ç¨‹å…¶å®žä¿ç•™å‡½æ•°çŽ°åœºçš„è¿‡ç¨‹


ä¸¾ä¸ªðŸŒ°

```js
J = (n) => 
    n === 1 ? 1
    : n * j(n - 1)
```
è¿™æ˜¯ä¸€ä¸ªç®€å•çš„é˜¶ä¹˜è®¡ç®—å‡½æ•°,ç”¨åˆ°äº†é€’å½’
ä¸‹é¢åˆ†æžä¸€ä¸‹å±‚å±‚é€’è¿›, ç„¶åŽå±‚å±‚å›žå½’çš„çŸ¥è¯†ç‚¹

```js
    j(4)
    = 4 * j(3)
    = 4 * (3 * j(2))
    = 4 * (3 * (2 * j(1)))
    = 4 * (3 * (2 * 1))
    = 4 * (3 * 2)
    = 4 * 6
    = 24
```

å¦‚æžœä¸Šé¢çš„è¿‡ç¨‹çœ‹åšä¸€åº§å±±çš„è¯, ä¸Šå±±çš„è¿‡ç¨‹å°±æ˜¯å±‚å±‚é€’è¿›, å‡½æ•°ä¸æ–­åŽ‹æ ˆ
å°†å‡½æ•°å½“æ—¶çš„æ‰€éœ€è¦çŽ°åœºä¿å­˜ä¸‹æ¥,  ä¸ºäº†å¼¹æ ˆæ—¶è®¡ç®—ä½¿ç”¨
ä¸‹å±±çš„è¿‡ç¨‹å°±æ˜¯å±‚å±‚å›žå½’, å‡½æ•°ä¸æ–­å¼¹æ ˆ, ç„¶åŽä¸æ–­çš„æ‰§è¡Œè®¡ç®—å‡½æ•°

## é€’å½’çš„ä¼˜åŒ–

é¦–å…ˆä¸¾ä¸€ä¸ªç¨å¾®å¤æ‚ä¸€ç‚¹çš„é€’å½’å‡½æ•°ðŸŒ°
è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—

```js
f = (n) => 
    n === 0 ? 0 :
    n === 1 ? 1 :
    f(n - 1) + f(n - 2)
```

```js
    f(4)
    = f(3) + f(2)
    = (f(2) + f(1)) + (f(1) + f(0))
    = ((f(1) + f(0)) + 1 + (1 + 0))
    = ((1 + 0) + 1 + 1)
    = (1 + 2)
    = 3
```

å…¶å®žè¿™ä¸ªä¾‹å­æ˜¯ä¸ºäº†è¯´æ˜Ž, æœ‰çš„é€’å½’è®¡ç®—è¿‡ç¨‹ä¸­ä¼šå­˜åœ¨å¤§é‡çš„é‡å¤è®¡ç®—, å°±å¥½æ¯”ä¸Šé¢çš„è¿™ä¸ªä¾‹å­, é‡å¤çš„è®¡ç®—äº†f(2), f(1), f(0)è¿™å‡ ä¸ªå‡½æ•°
è¿™æ ·ä¼šå¤§å¤§çš„é™ä½Žæ€§èƒ½
æ‰“å¼€æŽ§åˆ¶å°å¯ä»¥è¯•éªŒä¸€ä¸‹f(48)æ‰§è¡Œæ‰€éœ€è¦çš„æ—¶é—´, åœ¨æˆ‘çš„ç”µè„‘ä¸Šå¤§çº¦æ‰§è¡Œäº†48ç§’æ‰å¾—åˆ°ç»“æžœ, å¯è§æ‰§è¡Œæµªè´¹çš„æ—¶é—´å¾ˆå¤š

é‚£ä¹ˆå¦‚æžœä¼˜åŒ–ä¸Šé¢çš„æƒ…å†µå‘¢
æœ‰ä¸¤ç§åŠžæ³•

1. ä½¿ç”¨å°¾é€’å½’
è¯´ä¸€ä¸ªä¹‹å‰ç¬¬ä¸€æ¬¡å¬åˆ°å°¾é€’å½’è¿™ä¸‰ä¸ªå­—æ—¶é—¹å‡ºçš„ç¬‘è¯, ç¬¬ä¸€æ¬¡å¬åˆ°å°¾é€’å½’æ—¶æˆ‘è¯¯ä»¥ä¸ºæ˜¯**ä¼ªé€’å½’**, 
å°±ç†è§£æˆçš„å‡çš„é€’å½’, å°±æ˜¯ä¼ªé€’å½’ðŸ˜†, å’ŒçœŸé€’å½’æ­£å¥½æ˜¯ç›¸åçš„å‘¢â€¦


ä¸Šé¢çš„ä»£ç å¯ä»¥ä½¿ç”¨å°¾é€’å½’ä»£æ›¿è¿›è¡Œä¼˜åŒ–
 
```js
f = (n) => f_helper(2, n, 1, 0)

f_helper = (start, end, prev1, prev2) => 
	start === end ? prev1 + prev2
			: f_helper(start + 1, end, prev1 + prev2, prev1)
```

è¿™æ®µä»£ç å°±æ˜¯å°¾é€’å½’çš„å®žçŽ°, çœ‹ç€å¯èƒ½æœ‰äº›éš¾ä»¥ç†è§£, ä¸‹é¢åˆ†æžä¸€ä¸‹è¿™æ®µä»£ç 

é¦–å…ˆæ˜Žç¡®ä¸€ä¸‹å°¾é€’å½’çš„è¿‡ç¨‹å°±æ˜¯è¿­ä»£çš„è¿‡ç¨‹, æ¯ä¸€æ¬¡è¿­ä»£çš„ç»“æžœéƒ½ä¼šæ›¿ä»£ä¸Šä¸€æ¬¡è¿­ä»£çš„ç»“æžœ, è€Œä¸ä¼šä¿ç•™ä¸Šä¸€æ¬¡è¿­ä»£çš„ç»“æžœ

å…¶ä¸­`start`æ˜¯è¿­ä»£å¼€å§‹çš„è®°å½•

`end`æ˜¯è¿­ä»£ç»“æŸçš„è®°å½•

`prev1`æ˜¯å‰ä¸€é¡¹çš„ç»“æžœ

`prev2`æ˜¯å‰ä¸¤é¡¹çš„ç»“æžœ

ç”±äºŽæ–æ³¢é‚£å¥‘æ•°åˆ—ç¬¬ä¸€äºŒé¡¹æ˜¯å·²çŸ¥çš„, æ‰€ä»¥`start`ä»Ž2å¼€å§‹, å‰ä¸€é¡¹ä¹Ÿå°±æ˜¯`prev1`æ˜¯1, ä¹Ÿå°±æ˜¯æ•°åˆ—çš„ç¬¬äºŒé¡¹, 
åŒç†`prev2`æ˜¯0
æ¯ä¸€æ¬¡è¿­ä»£è®¡ç®—å¾—åˆ°çš„ç»“æžœéƒ½ä½œä¸ºä¸‹ä¸€æ¬¡è¿­ä»£å‡½æ•°æ‰§è¡Œçš„å‚æ•°, 
`start`éƒ½è¦åŠ 1, æ‰€ä»¥ä¸‹ä¸€æ¬¡è¿­ä»£çš„å‰ä¸€é¡¹`prev1`å°±æ˜¯ä¸Šä¸€æ¬¡è¿­ä»£çš„`prev1 + prev2`
ä¸‹ä¸€æ¬¡è¿­ä»£çš„å‰ä¸¤é¡¹`prev2`å°±æ˜¯ä¸Šä¸€æ¬¡è¿­ä»£çš„å‰ä¸€é¡¹`prev1`(**è¿™ä¸ªè®¡ç®—æ–¹å¼æ˜¯æ ¹æ®æ–æ³¢é‚£å¥‘æ•°åˆ—è®¡ç®—è§„åˆ™æ‰€å¾—, å¹¶ä¸æ˜¯å°¾é€’å½’å°±æ˜¯è¿™ä¸ªè®¡ç®—è§„åˆ™, ä¸è¦å¼„æ··**)
ç›´åˆ°`start === end`ä¹Ÿå°±æ˜¯åˆ°è¾¾äº†è¿­ä»£çš„ç»ˆç‚¹, ä¹Ÿå°±å¾—åˆ°äº†ç»“æžœ

å¦‚æžœè¿˜æ˜¯ä¸æ˜Žç™½å¯ä»¥ç»“åˆæˆ‘ä¸Šé¢çš„åˆ†æžè‡ªå·±ç”»ç”»å›¾ç†è§£ä¸€ä¸‹ðŸ˜†

ä¸ºä»€ä¹ˆè¯´å°¾é€’å½’æ˜¯é€’å½’çš„ä¼˜åŒ–å‘¢, åœ¨å‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¸­, çœ‹ç€ä¹Ÿæ˜¯å‡½æ•°åµŒå¥—, è‡ªå·±è°ƒç”¨è‡ªå·±, ä¸ºä»€ä¹ˆæ€§èƒ½å°±æ¯”é€’å½’ä¼˜ç§€å‘¢
	
- å°¾é€’å½’æ˜¯ä¸å­˜åœ¨å‡½æ•°åŽ‹æ ˆçš„è¿‡ç¨‹çš„, å‡½æ•°åŽ‹æ ˆä¸»è¦æ˜¯ä¸ºäº†ä¿ç•™çŽ°åœº, ç­‰åˆ°å‡½æ•°çœŸæ­£æ‰§è¡Œçš„æ—¶å€™å¯ä»¥å›žåˆ°æ­£ç¡®çš„çŽ°åœº, å›žåˆ°æ­£ç¡®çš„ä½ç½®, 
ä½†æ˜¯å°¾é€’å½’æ˜¯æ²¡æœ‰å±‚å±‚å›žå½’çš„è¿™ä¸ªè¿‡ç¨‹çš„, å¯ä»¥ä½“ä¼šä¸€ä¸‹ä¸Šé¢çš„åˆ†æžè¿‡ç¨‹, å°¾é€’å½’ä¸éœ€è¦ä¸ºå‡½æ•°ä¿ç•™çŽ°åœº
	
ä½†æ˜¯å¯¹äºŽJSæ¥è¯´, ç›®å‰ä¸ºæ­¢JSæ˜¯ä¸å­˜åœ¨å°¾é€’å½’çš„, å› ä¸ºJSå¼•æ“Žæ²¡æœ‰å°¾é€’å½’ä¼˜åŒ–, è¿˜æ˜¯å­˜åœ¨å‡½æ•°ä¸æ–­åŽ‹æ ˆçš„æƒ…å†µ, ä¸æ–­å¼¹æ ˆ, 
è™½ç„¶è¯´å°¾é€’å½’ä¸éœ€è¦ä¸ºå‡½æ•°ä¿ç•™çŽ°åœº
å¯¹äºŽæœ‰å°¾é€’å½’ä¼˜åŒ–çš„è¯­è¨€, è¿™æ®µä¼˜åŒ–çš„ä»£ç å¯ä»¥èŠ‚çœå¾ˆå¤šåŽ‹æ ˆå¼¹æ ˆçš„æ¬¡æ•°

## æ‰€æœ‰çš„é€’å½’éƒ½å¯ä»¥ä½¿ç”¨å¾ªçŽ¯æ¥è¡¨ç¤º(ä¸çŸ¥é“è°è¯´çš„ðŸ˜ƒ)

å¦‚æžœä½ è§‰å¾—é€’å½’æ€§èƒ½ä¸å¥½, å°¾é€’å½’åˆæ¯”è¾ƒéš¾å†™, éš¾ä»¥ç†è§£
å¯ä»¥ä½¿ç”¨å¾ªçŽ¯æ¥é‡æ–°å®žçŽ°é€’å½’

è¿˜æ˜¯ä¸¾æ–æ³¢é‚£å¥‘æ•°åˆ—çš„ðŸŒ°

```js
f = (n) => {
	let array = [0 ,1];
	for (let i = 2; i <= n - 2; i ++) {
		array[i] = array[i - 1] + array[i - 2]
	}
	return array[array.length - 1];
}
```


è¿™ä¸ªæ€§èƒ½å¾ˆå¥½, ä¸ºä»€ä¹ˆæ€§èƒ½å¾ˆå¥½å‘¢, å› ä¸ºçœåŽ»äº†å¾ˆå¤šé‡å¤çš„è®¡ç®—, ä¾‹å¦‚é€’å½’å½“ä¸­, é‡å¤è®¡ç®—å¤šæ¬¡çš„f(2), f(1), f(0), åœ¨å¾ªçŽ¯å½“ä¸­åªè®¡ç®—ä¸€æ¬¡, å› ä¸ºæ¯æ¬¡è®¡ç®—çš„ç»“æžœéƒ½ä¿å­˜åœ¨æ•°ç»„å½“ä¸­äº†

## ä½¿ç”¨è®°å¿†åŒ–ä¼˜åŒ–é€’å½’

è®°å¿†åŒ–æœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯å¤§å¤§çš„é™ä½Žäº†é€’å½’è¿‡ç¨‹ä¸­é‡å¤è®¡ç®—, ä¹Ÿå°±æ˜¯å‡å°‘å¾ˆå¤šä¸å¿…è¦çš„å‡½æ•°æ‰§è¡Œ, 
ä¹Ÿå°±æ˜¯å¤§å¤§å‡å°‘äº†å‡½æ•°çš„åŽ‹æ ˆå¼¹æ ˆæ“ä½œ, æžå¤§çš„æå‡äº†æ€§èƒ½

å…·ä½“å¯ä»¥çœ‹çœ‹::Loadsh::ä¸­è®°å¿†åŒ–å‡½æ•°çš„å®žçŽ°, ä»¥åŽä¼šå•ç‹¬è®²è§£ä¸€ä¸‹è®°å¿†åŒ–å‡½æ•°çš„å®žçŽ°, æœ¬ç¯‡æ–‡ç« å°±ä¸æ¶‰åŠäº†

è®°å¿†åŒ–ä¸ä»…ä»…å¯ä»¥ä¼˜åŒ–é€’å½’, åªè¦æ˜¯æ¶‰åŠåˆ°å‡½æ•°é‡å¤æ‰§è¡Œçš„éƒ½å¯ä»¥ä½¿ç”¨è®°å¿†åŒ–è¿›è¡Œä¼˜åŒ–

ä¸¾ä¸€ä¸ªReacté€šè¿‡è®°å¿†åŒ–ä¼˜åŒ–çš„ðŸŒ°

ä»£ç åœ°å€

[React-CodeSandbox](https://codesandbox.io/s/epic-bell-srft7)

[React-CodeSandbox](https://codesandbox.io/s/frosty-water-u2o8r)







