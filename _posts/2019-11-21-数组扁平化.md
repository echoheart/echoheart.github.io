---
layout:     post
title:      数组扁平化
subtitle:   数组扁平化
date:       2019-11-21
author:     limantang
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - JavaScript
---


# 数组扁平化


- 递归思路

```js
/*
*   array 一维或者多维数组
*   return 一维数组
*   使用递归实现
* */

function flat(array) {
  let result = [];
  for (let i  = 0; i < array.length; i++) {
    const item = array[i];
    if (item instanceof Array) {
      console.log(result, 'result');
      result = result.concat(flat(item));
    } else {
      result.push(item);
    }
  }
  console.log(result, 'return 之前');
  return result;
}
```
- toString
```js

/*
*   array 一维或者多维数组
*   return 一维数组
*   使用toString实现
*   局限性 重新生成的数组每一项都是字符
*   这种虽然简单, 但是适用性很差
* */

function flat(arr) {
  const str = arr.toString();
  console.log(str);
  return str.split(',');
}

```
- reduce + 递归
```js
/*
*   array 一维或者多维数组
*   return 一维数组
*   使用reduce来实现
* */

/*
*   [1,2,3,4]
*   [[1,2],[3,4]]
*
* */

function flat(arr) {
  return arr.reduce((pre, current) => {
    console.log(pre, 'pre');
    console.log(current, 'current');
    const temp = Array.isArray(current) ? flat(current) : current;
    console.log(temp, 'temp');
    return pre.concat(temp);
  }, [])
}
```

**源码地址**

[blog-source-code/src/arrayFlat at master · echoheart/blog-source-code · GitHub](https://github.com/echoheart/blog-source-code/tree/master/src/arrayFlat)
